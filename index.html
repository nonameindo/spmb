<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antrian SPMB - SMA Negeri 1 Magetan</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <header>
            <div class="header-left">
                <div class="school-logo">
                    <div class="logo-icon">
                        <i class="fas fa-school"></i>
                    </div>
                    <div class="logo-text">
                        <div class="logo-title">SMA NEGERI 1 MAGETAN</div>
                        <div class="logo-subtitle">"Unggul dalam Prestasi, Berbudi Pekerti Luhur"</div>
                    </div>
                </div>
            </div>
            
            <div class="header-center">
                <div class="system-title">
                    <h1>SISTEM ANTRIAN SPMB</h1>
                    <h2>PENERIMAAN PESERTA DIDIK BARU</h2>
                    <p class="academic-year">TAHUN PELAJARAN 2024/2025</p>
                </div>
            </div>
            
            <div class="header-right">
                <div class="datetime-display">
                    <div class="date-container">
                        <div class="date-label">
                            <i class="far fa-calendar-alt"></i>
                            <span>HARI & TANGGAL</span>
                        </div>
                        <div id="current-date" class="date-value">Rabu, 14 Agustus 2024</div>
                    </div>
                    <div class="time-container">
                        <div class="time-label">
                            <i class="far fa-clock"></i>
                            <span>JAM</span>
                        </div>
                        <div id="current-time" class="time-value">14:30:45</div>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <div class="content-wrapper">
                <section class="queue-display">
                    <div class="display-header">
                        <h3><i class="fas fa-tv"></i> LAYAR INFORMASI ANTRIAN</h3>
                    </div>
                    
                    <div class="current-call">
                        <h4><i class="fas fa-clock"></i> ANTRIAN SAAT INI</h4>
                        <div id="last-called" class="last-called">
                            <div class="queue-number">-</div>
                            <div class="queue-instruction">
                                <div class="instruction-text">SILAHKAN MENUJU KE</div>
                                <div class="queue-operator">Menunggu panggilan...</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="next-queue">
                        <h4><i class="fas fa-forward"></i> ANTRIAN BERIKUTNYA</h4>
                        <div class="next-queue-list" id="next-queue-list">
                            <div class="next-queue-item">-</div>
                            <div class="next-queue-item">-</div>
                            <div class="next-queue-item">-</div>
                        </div>
                    </div>
                    
                    <div class="operator-status">
                        <h4><i class="fas fa-user-tie"></i> STATUS OPERATOR</h4>
                        <div class="operator-grid" id="operator-grid">
                            <!-- Operator status akan diisi oleh JavaScript -->
                        </div>
                    </div>
                    
                    <!-- TAMBAHAN: Riwayat Pemanggilan di Tampilan Publik -->
                    <div class="public-history">
                        <h4><i class="fas fa-history"></i> RIWAYAT PEMANGGILAN TERBARU</h4>
                        <div class="public-history-list" id="public-history-list">
                            <div class="history-empty">Belum ada riwayat panggilan</div>
                        </div>
                    </div>
                </section>

                <section class="control-panel">
                    <div class="panel-header">
                        <h3><i class="fas fa-cogs"></i> PANEL KONTROL ADMIN</h3>
                    </div>
                    
                    <div class="queue-control">
                        <h4><i class="fas fa-ticket-alt"></i> PENGATURAN ANTRIAN</h4>
                        
                        <div class="form-group">
                            <label for="queue-number"><i class="fas fa-hashtag"></i> Nomor Antrian</label>
                            <div class="input-with-buttons">
                                <input type="text" id="queue-number" placeholder="Contoh: A012">
                                <div class="button-group">
                                    <button id="prev-btn" class="btn-small"><i class="fas fa-chevron-left"></i></button>
                                    <button id="next-btn" class="btn-small"><i class="fas fa-chevron-right"></i></button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="operator-select"><i class="fas fa-user-check"></i> Operator Tujuan</label>
                            <select id="operator-select">
                                <option value="1">Operator 1 - Pendaftaran</option>
                                <option value="2">Operator 2 - Verifikasi Berkas</option>
                                <option value="3">Operator 3 - Wawancara</option>
                                <option value="4">Operator 4 - Tes Akademik</option>
                                <option value="5">Operator 5 - Konsultasi Jurusan</option>
                                <option value="6">Operator 6 - Pembayaran</option>
                                <option value="7">Operator 7 - Pengambilan Kartu</option>
                                <option value="8">Operator 8 - Layanan Khusus</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="announcement"><i class="fas fa-bullhorn"></i> Pengumuman (Opsional)</label>
                            <input type="text" id="announcement" placeholder="Contoh: Harap siapkan berkas asli">
                        </div>
                        
                        <div class="call-section">
                            <button id="call-btn" class="call-button">
                                <i class="fas fa-bullhorn"></i> PANGGIL ANTRIAN
                            </button>
                            
                            <div class="audio-settings">
                                <div class="audio-control">
                                    <label for="volume"><i class="fas fa-volume-up"></i> Volume Suara</label>
                                    <input type="range" id="volume" min="0" max="1" step="0.1" value="0.7">
                                </div>
                                
                                <div class="announcement-type">
                                    <label><i class="fas fa-music"></i> Jenis Pengumuman:</label>
                                    <div class="radio-group">
                                        <label class="radio-label">
                                            <input type="radio" name="announcement-type" value="airport" checked>
                                            <span>Suara Bandara</span>
                                        </label>
                                        <label class="radio-label">
                                            <input type="radio" name="announcement-type" value="bell">
                                            <span>Bel Biasa</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="voice-test">
                                <button id="test-voice-btn" class="btn-small">
                                    <i class="fas fa-volume-up"></i> Tes Suara
                                </button>
                                <button id="test-airport-btn" class="btn-small">
                                    <i class="fas fa-plane"></i> Tes Suara Bandara
                                </button>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button id="reset-btn" class="btn-secondary">
                                <i class="fas fa-redo"></i> Reset Antrian
                            </button>
                            <button id="skip-btn" class="btn-secondary">
                                <i class="fas fa-forward"></i> Lewati Antrian
                            </button>
                            <button id="repeat-btn" class="btn-secondary">
                                <i class="fas fa-redo-alt"></i> Ulangi Panggilan
                            </button>
                            <button id="clear-history-btn" class="btn-secondary">
                                <i class="fas fa-trash-alt"></i> Hapus Riwayat
                            </button>
                        </div>
                    </div>
                    
                    <!-- TAMBAHAN: Riwayat Pemanggilan Lengkap di Panel Kontrol -->
                    <div class="admin-history">
                        <div class="history-header">
                            <h4><i class="fas fa-history"></i> RIWAYAT PEMANGGILAN (ADMIN)</h4>
                            <div class="history-stats">
                                <span id="total-calls">Total: 0</span>
                                <span id="today-calls">Hari ini: 0</span>
                            </div>
                        </div>
                        
                        <div class="history-controls">
                            <div class="filter-controls">
                                <select id="filter-operator" class="filter-select">
                                    <option value="all">Semua Operator</option>
                                    <option value="1">Operator 1</option>
                                    <option value="2">Operator 2</option>
                                    <option value="3">Operator 3</option>
                                    <option value="4">Operator 4</option>
                                    <option value="5">Operator 5</option>
                                    <option value="6">Operator 6</option>
                                    <option value="7">Operator 7</option>
                                    <option value="8">Operator 8</option>
                                    <option value="skipped">Dilewati</option>
                                </select>
                                <select id="filter-date" class="filter-select">
                                    <option value="today">Hari Ini</option>
                                    <option value="yesterday">Kemarin</option>
                                    <option value="week">7 Hari Terakhir</option>
                                    <option value="all">Semua Waktu</option>
                                </select>
                            </div>
                            <div class="search-control">
                                <input type="text" id="search-history" placeholder="Cari nomor antrian...">
                                <button id="search-btn" class="btn-small">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="history-list-container">
                            <div class="history-list-header">
                                <div class="header-item">No. Antrian</div>
                                <div class="header-item">Operator</div>
                                <div class="header-item">Waktu</div>
                                <div class="header-item">Aksi</div>
                            </div>
                            <div class="history-list-content" id="admin-history-list">
                                <div class="history-empty">Belum ada riwayat panggilan</div>
                            </div>
                        </div>
                        
                        <div class="history-pagination">
                            <button id="prev-page" class="pagination-btn" disabled>
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <span id="page-info">Halaman 1 dari 1</span>
                            <button id="next-page" class="pagination-btn" disabled>
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <footer>
            <div class="footer-content">
                <div class="footer-left">
                    <div class="footer-logo">
                        <i class="fas fa-graduation-cap"></i>
                        <span>SMA NEGERI 1 MAGETAN</span>
                    </div>
                </div>
                <div class="footer-center">
                    <p>Â© 2024 Sistem Antrian SPMB SMA Negeri 1 Magetan. Semua Hak Dilindungi.</p>
                </div>
                <div class="footer-right">
                    <p class="footer-info">
                        <i class="fas fa-clock"></i> Loket buka: Senin-Jumat (08:00-15:00) | Sabtu (08:00-12:00)
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Audio untuk berbagai suara -->
    <audio id="call-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-call-to-attention-993.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Suara pengumuman bandara -->
    <audio id="airport-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-airport-announcement-1131.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Suara bell biasa -->
    <audio id="bell-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-classic-short-alarm-993.mp3" type="audio/mpeg">
    </audio>

    <script src="script.js"></script>
</body>
</html>